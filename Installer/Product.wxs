<?xml version="1.0" encoding="utf-8"?>
<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">
  <Package Name="Browser Reporter Service" 
           Manufacturer="[YOUR_ORGANIZATION]" 
           Version="1.0.0" 
           UpgradeCode="ea205a21-2305-4ee7-9169-8086a9928540" 
           Scope="perMachine">

    <!-- Ensure upgrades replace previous versions -->
    <MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />

    <!-- Default cab compression -->
    <MediaTemplate EmbedCab="yes" />

    <!-- Define our installation directory inside the Program Files folder -->
    <StandardDirectory Id="ProgramFilesFolder">
      <Directory Id="INSTALLDIR" Name="BrowserReporterService" />
    </StandardDirectory>

    <!-- Additional helper scripts -->
    <ComponentGroup Id="HelperScripts" Directory="INSTALLDIR">
      <Component Id="NoTrayBatchFile" Guid="*">
        <File Id="BrowserReporterService_notray.bat"
              Source="BrowserReporterService_notray.bat"
              KeyPath="yes" />
      </Component>
    </ComponentGroup>

    <!-- Pull in the harvested binaries and define the main feature -->
    <Feature Id="MainFeature" Title="Browser Reporter Service" Level="1">
      <ComponentGroupRef Id="AppFiles" />
      <ComponentGroupRef Id="HelperScripts" />
    </Feature>

  </Package>
</Wix> 